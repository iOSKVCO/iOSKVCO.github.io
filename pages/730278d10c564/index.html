<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Swift 3.1 çš„æ–°å˜åŒ–ã€Œè¯‘ã€ | iOSä¸¶OC</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content=" ">
    <meta name="keywords" content="vue,vuejs,vuepress,vuepress-theme-reco">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.ab38579b.css" as="style"><link rel="preload" href="/assets/js/app.66cb26ac.js" as="script"><link rel="preload" href="/assets/js/2.3ee17fbc.js" as="script"><link rel="preload" href="/assets/js/63.96e273aa.js" as="script"><link rel="preload" href="/assets/js/4.2b6c6ac4.js" as="script"><link rel="prefetch" href="/assets/js/10.50cc2eb2.js"><link rel="prefetch" href="/assets/js/11.4a36dec6.js"><link rel="prefetch" href="/assets/js/12.c6385964.js"><link rel="prefetch" href="/assets/js/13.cba4db62.js"><link rel="prefetch" href="/assets/js/14.bf600652.js"><link rel="prefetch" href="/assets/js/15.d48030a1.js"><link rel="prefetch" href="/assets/js/16.f323f29d.js"><link rel="prefetch" href="/assets/js/17.a2fcabbc.js"><link rel="prefetch" href="/assets/js/18.afa3a67f.js"><link rel="prefetch" href="/assets/js/19.83ec7520.js"><link rel="prefetch" href="/assets/js/20.cb19d5ec.js"><link rel="prefetch" href="/assets/js/21.5931ad25.js"><link rel="prefetch" href="/assets/js/22.e959dede.js"><link rel="prefetch" href="/assets/js/23.45fba950.js"><link rel="prefetch" href="/assets/js/24.2dcf5b47.js"><link rel="prefetch" href="/assets/js/25.c339f38f.js"><link rel="prefetch" href="/assets/js/26.dc58852a.js"><link rel="prefetch" href="/assets/js/27.a16c58a2.js"><link rel="prefetch" href="/assets/js/28.b0624d05.js"><link rel="prefetch" href="/assets/js/29.9bd6e7fa.js"><link rel="prefetch" href="/assets/js/3.14afbf75.js"><link rel="prefetch" href="/assets/js/30.029e616c.js"><link rel="prefetch" href="/assets/js/31.74f3f9e4.js"><link rel="prefetch" href="/assets/js/32.5b30278f.js"><link rel="prefetch" href="/assets/js/33.0ca1605d.js"><link rel="prefetch" href="/assets/js/34.3eabd08c.js"><link rel="prefetch" href="/assets/js/35.08624ea8.js"><link rel="prefetch" href="/assets/js/36.72764ec5.js"><link rel="prefetch" href="/assets/js/37.1237d230.js"><link rel="prefetch" href="/assets/js/38.87c9a3e3.js"><link rel="prefetch" href="/assets/js/39.1679ca8e.js"><link rel="prefetch" href="/assets/js/40.c452b718.js"><link rel="prefetch" href="/assets/js/41.45c356a3.js"><link rel="prefetch" href="/assets/js/42.ad6e189d.js"><link rel="prefetch" href="/assets/js/43.b44c29a9.js"><link rel="prefetch" href="/assets/js/44.dda5f503.js"><link rel="prefetch" href="/assets/js/45.2ddb0934.js"><link rel="prefetch" href="/assets/js/46.b3e1a725.js"><link rel="prefetch" href="/assets/js/47.ed024c17.js"><link rel="prefetch" href="/assets/js/48.eddb0df9.js"><link rel="prefetch" href="/assets/js/49.b29758a7.js"><link rel="prefetch" href="/assets/js/5.eb6b8e90.js"><link rel="prefetch" href="/assets/js/50.871545e3.js"><link rel="prefetch" href="/assets/js/51.d75c458f.js"><link rel="prefetch" href="/assets/js/52.843a7549.js"><link rel="prefetch" href="/assets/js/53.76e3bfdd.js"><link rel="prefetch" href="/assets/js/54.0b1ed9d8.js"><link rel="prefetch" href="/assets/js/55.3edd6e65.js"><link rel="prefetch" href="/assets/js/56.78b762fc.js"><link rel="prefetch" href="/assets/js/57.cee4a7ba.js"><link rel="prefetch" href="/assets/js/58.13bd6728.js"><link rel="prefetch" href="/assets/js/59.52a549bb.js"><link rel="prefetch" href="/assets/js/6.2128e8d0.js"><link rel="prefetch" href="/assets/js/60.6f537c17.js"><link rel="prefetch" href="/assets/js/61.0931f624.js"><link rel="prefetch" href="/assets/js/62.1b3bbe69.js"><link rel="prefetch" href="/assets/js/64.c390262b.js"><link rel="prefetch" href="/assets/js/65.9a4ef049.js"><link rel="prefetch" href="/assets/js/66.0e80b69b.js"><link rel="prefetch" href="/assets/js/7.572380ba.js"><link rel="prefetch" href="/assets/js/8.b14803c0.js"><link rel="prefetch" href="/assets/js/9.d19c1630.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ab38579b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu" data-v-f848d4e8><div class="global-loading-wrapper" data-v-137da995 data-v-f848d4e8 data-v-f848d4e8><div class="loader-main" data-v-137da995><img src="/assets/img/loading.18d75e19.gif" alt="loading" data-v-137da995></div></div> <div class="hide" data-v-f848d4e8><header class="navbar" data-v-f848d4e8><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">iOSä¸¶OC</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">é€‰æ‹©æ¨¡å¼</h4> <ul class="color-mode-options"><li class="dark">æ·±è‰²æ¨¡å¼</li><li class="light active">æµ…è‰²æ¨¡å¼</li><li class="read">é˜…è¯»æ¨¡å¼</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <ul class="suggestions align-right" style="display:none;"></ul></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i></i>iOSå¼€å‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link"><i class="iconfont reco-category"></i>æ–‡ç« åˆ†ç±»
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>æ–‡ç« æ ‡ç­¾
</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link"><i class="iconfont reco-date"></i>å½’æ¡£
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-f848d4e8></div> <aside class="sidebar" data-v-f848d4e8><div class="personal-info-wrapper" data-v-ebb1c4ea data-v-f848d4e8><!----> <div class="author" data-v-ebb1c4ea>
    iOSä¸¶OC
  </div> <div class="personal-info-details" data-v-ebb1c4ea><div data-v-ebb1c4ea>æ–‡ç« ï¼š<span data-v-ebb1c4ea>56</span></div> <div data-v-ebb1c4ea>åœ°ç‚¹ï¼š<span data-v-ebb1c4ea>æ·±åœ³</span></div></div> <!----> <ul class="social-links" data-v-ebb1c4ea><li class="social-item" data-v-ebb1c4ea><i class="iconfont reco-github" style="color:#3eaf7c;" data-v-ebb1c4ea></i></li><li class="social-item" data-v-ebb1c4ea><i class="iconfont reco-juejin" style="color:#00a1d6;" data-v-ebb1c4ea></i></li></ul></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i></i>iOSå¼€å‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link"><i class="iconfont reco-category"></i>æ–‡ç« åˆ†ç±»
</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link"><i class="iconfont reco-tag"></i>æ–‡ç« æ ‡ç­¾
</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link"><i class="iconfont reco-date"></i>å½’æ¡£
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/pages/b7b16d5295721/" class="sidebar-link">AsyncDisplayKit 2.0 æ•™ç¨‹:å…¥é—¨ã€Œè¯‘ã€</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-11"><div class="articleInfo-wrap" data-v-13f19dad><div class="articleInfo" data-v-13f19dad><ul class="breadcrumbs" data-v-13f19dad><li data-v-13f19dad><a href="/" title="é¦–é¡µ" class="fa fa-laptop-house router-link-active" data-v-13f19dad></a></li> <li data-v-13f19dad><a href="/categories/?category=iOS%E6%96%87%E7%AB%A0" title="åˆ†ç±»" data-v-13f19dad>iOSæ–‡ç« </a></li> <!----> <!----></ul> <div class="info" data-v-13f19dad><div title="ä½œè€…" class="author fa fa-user" data-v-13f19dad><a href="javascript:;" data-v-13f19dad>BY</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date fa fa-calendar-alt" data-v-13f19dad><a href="javascript:;" data-v-13f19dad>2017/03/30 00:00:00</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
            Swift 3.1 çš„æ–°å˜åŒ–ã€Œè¯‘ã€
          </h1> <div class="theme-vdoing-content content__default"><p><img src="https://koenig-media.raywenderlich.com/uploads/2017/03/WhatsNewSwift3.1-feature-1-250x250.png" alt=""></p> <p>Xcode 8.3 å’Œ Swift 3.1 ç°åœ¨å·²ç»å‘å¸ƒäº†(3/28)ï¼</p> <p>å¯ä»¥é€šè¿‡ <a href="https://itunes.apple.com/us/app/xcode/id497799835?ls=1&amp;mt=12#" target="_blank" rel="noopener noreferrer">AppStore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ– <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener noreferrer">Apple Developer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿›è¡Œä¸‹è½½</p> <p><img src="https://ww2.sinaimg.cn/large/006tNbRwgy1fe2it3xwt6j30s50g3mya.jpg" alt=""></p> <p>Xcode 8.3 ä¼˜åŒ–äº† Objective-C ä¸ Swift æ··ç¼–é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦.</p> <p>Swift 3.1 ç‰ˆæœ¬åŒ…å«ä¸€äº›æœŸå¾…å·²ä¹…çš„ <a href="https://github.com/apple/swift-package-manager" target="_blank" rel="noopener noreferrer">Swift package manager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åŠŸèƒ½å’Œè¯­æ³•æœ¬èº«çš„æ”¹è¿›ã€‚</p> <p>å¦‚æœæ‚¨æ²¡æœ‰å¯†åˆ‡å…³æ³¨ <a href="https://github.com/apple/swift-evolution" target="_blank" rel="noopener noreferrer">Swift Evolution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿›ç¨‹ï¼Œè¯·ç»§ç»­é˜…è¯» - æœ¬æ–‡éå¸¸é€‚åˆæ‚¨ï¼</p> <p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å¼ºè°ƒSwift 3.1ä¸­æœ€é‡è¦çš„å˜åŒ–ï¼Œè¿™å°†å¯¹æ‚¨çš„ä»£ç äº§ç”Ÿé‡å¤§å½±å“ã€‚æˆ‘ä»¬æ¥å§ï¼ğŸ˜ƒ</p> <h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="header-anchor">#</a> å¼€å§‹</h2> <p>Swift 3.1ä¸Swift 3.0æºä»£ç å…¼å®¹ï¼Œå› æ­¤å¦‚æœæ‚¨å·²ç»ä½¿ç”¨Xcode ä¸­çš„ <code>Edit \ Convert \ To Current Swift Syntax ...</code> å°†é¡¹ç›®è¿ç§»åˆ°Swift 3.0ï¼Œæ–°åŠŸèƒ½å°†ä¸ä¼šç ´åæ‚¨çš„ä»£ç ã€‚ä¸è¿‡ï¼Œè‹¹æœå·²ç»åœ¨Xcode 8.3ä¸­æ”¯æŒSwift 2.3ã€‚æ‰€ä»¥å¦‚æœä½ è¿˜æ²¡æœ‰ä»Swift 2.3è¿ç§»ï¼Œç°åœ¨æ˜¯æ—¶å€™è¿™æ ·åšäº†ï¼</p> <p>åœ¨ä¸‹é¢çš„éƒ¨åˆ†ï¼Œæ‚¨ä¼šçœ‹åˆ°é“¾æ¥çš„æ ‡ç­¾ï¼Œå¦‚<code>[SE-0001]</code>ã€‚è¿™äº›æ˜¯ <a href="https://apple.github.io/swift-evolution/" target="_blank" rel="noopener noreferrer">Swift Evolution<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ææ¡ˆå·ç ã€‚æˆ‘å·²ç»åˆ—å‡ºäº†æ¯ä¸ªææ¡ˆçš„é“¾æ¥ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å‘ç°æ¯ä¸ªç‰¹å®šæ›´æ”¹çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘å»ºè®®æ‚¨å°è¯•åœ¨Playgroundä¸ŠéªŒè¯æ–°çš„åŠŸèƒ½ï¼Œä»¥ä¾¿æ›´å¥½åœ°äº†è§£æ‰€æœ‰æ›´æ”¹çš„å†…å®¹ã€‚</p> <blockquote><p>Note:å¦‚æœä½ æƒ³äº†è§£ swift 3.0 ä¸­çš„æ–°åŠŸèƒ½ï¼Œå¯ä»¥çœ‹<a href="https://www.raywenderlich.com/135655/whats-new-swift-3" target="_blank" rel="noopener noreferrer">è¿™ç¯‡æ–‡ç« <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></blockquote> <h2 id="è¯­æ³•æ”¹è¿›"><a href="#è¯­æ³•æ”¹è¿›" class="header-anchor">#</a> è¯­æ³•æ”¹è¿›</h2> <p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªç‰ˆæœ¬ä¸­çš„è¯­æ³•æ”¹è¿›ï¼ŒåŒ…æ‹¬å…³äºæ•°å€¼ç±»å‹çš„<code>å¯å¤±è´¥æ„é€ å™¨</code>ï¼ˆ<code>Failable Initializers</code>ï¼‰ï¼Œæ–°çš„åºåˆ—å‡½æ•°ç­‰ç­‰ã€‚</p> <h4 id="å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨-failable-numeric-conversion-initializers"><a href="#å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨-failable-numeric-conversion-initializers" class="header-anchor">#</a> å¯å¤±è´¥çš„æ•°å€¼è½¬æ¢æ„é€ å™¨ï¼ˆFailable Numeric Conversion Initializersï¼‰</h4> <p>Swift 3.1 ä¸ºæ‰€æœ‰æ•°å€¼ç±»å‹ <code>(Int, Int8, Int16, Int32, Int64, UInt, UInt8, UInt16, UInt32, UInt64, Float, Float80, Double)</code> æ·»åŠ äº†<a href="https://www.swiftmi.com/topic/121.html" target="_blank" rel="noopener noreferrer">å¯å¤±è´¥æ„é€ å™¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è¿™ä¸ªåŠŸèƒ½éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œä»¥å®‰å…¨ã€å¯æ¢å¤çš„æ–¹å¼å¤„ç†å¤–æºæ¾æ•£ç±»å‹æ•°æ®çš„è½¬æ¢ï¼Œä¸‹é¢æ¥çœ‹ Student çš„ JSON æ•°ç»„çš„å¤„ç†ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span>
  <span class="token keyword">let</span> grade<span class="token punctuation">:</span> <span class="token builtin">Int</span>
 
  <span class="token keyword">init</span><span class="token operator">?</span><span class="token punctuation">(</span>json<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> name <span class="token operator">=</span> json<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">String</span><span class="token punctuation">,</span>
          <span class="token keyword">let</span> gradeString <span class="token operator">=</span> json<span class="token punctuation">[</span><span class="token string">&quot;grade&quot;</span><span class="token punctuation">]</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">String</span><span class="token punctuation">,</span>
          <span class="token keyword">let</span> gradeDouble <span class="token operator">=</span> <span class="token function">Double</span><span class="token punctuation">(</span>gradeString<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">let</span> grade <span class="token operator">=</span> <span class="token function">Int</span><span class="token punctuation">(</span>exactly<span class="token punctuation">:</span> gradeDouble<span class="token punctuation">)</span>  <span class="token comment">// &lt;-- 3.1 çš„æ”¹åŠ¨åœ¨è¿™</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">nil</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">self</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">func</span> <span class="token function">makeStudents</span><span class="token punctuation">(</span>with data<span class="token punctuation">:</span> <span class="token builtin">Data</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token builtin">Student</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">guard</span> <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token builtin">JSONSerialization</span><span class="token punctuation">.</span><span class="token function">jsonObject</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> data<span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token punctuation">.</span>allowFragments<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">let</span> jsonArray <span class="token operator">=</span> json <span class="token keyword">as</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> jsonArray<span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token builtin">Student</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">let</span> rawStudents <span class="token operator">=</span> &quot;<span class="token punctuation">[</span><span class="token punctuation">{</span>\&quot;name\&quot;<span class="token punctuation">:</span>\&quot;<span class="token builtin">Ray</span>\&quot;<span class="token punctuation">,</span> \&quot;grade\&quot;<span class="token punctuation">:</span>\&quot;<span class="token number">5.0</span>\&quot;<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\&quot;name\&quot;<span class="token punctuation">:</span>\&quot;<span class="token builtin">Matt</span>\&quot;<span class="token punctuation">,</span> \&quot;grade\&quot;<span class="token punctuation">:</span>\&quot;<span class="token number">6</span>\&quot;<span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>\&quot;name\&quot;<span class="token punctuation">:</span>\&quot;<span class="token builtin">Chris</span>\&quot;<span class="token punctuation">,</span> \&quot;grade\&quot;<span class="token punctuation">:</span>\&quot;<span class="token number">6.33</span>\&quot;<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\&quot;name\&quot;<span class="token punctuation">:</span>\&quot;<span class="token builtin">Cosmin</span>\&quot;<span class="token punctuation">,</span> \&quot;grade\&quot;<span class="token punctuation">:</span>\&quot;<span class="token number">7</span>\&quot;<span class="token punctuation">}</span><span class="token punctuation">,</span> 
                    <span class="token punctuation">{</span>\<span class="token string">&quot;name\&quot;:\&quot;Steven\&quot;, \&quot;grade\&quot;:\&quot;7.5\&quot;}]&quot;</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> rawStudents<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span>
<span class="token keyword">let</span> students <span class="token operator">=</span> <span class="token function">makeStudents</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> data<span class="token punctuation">)</span>
<span class="token function">dump</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span> <span class="token comment">// [(name: &quot;Ray&quot;, grade: 5), (name: &quot;Matt&quot;, grade: 6), (name: &quot;Cosmin&quot;, grade: 7)]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>åœ¨ <code>Student</code> ç±»ä¸­ä½¿ç”¨äº†ä¸€ä¸ªå¯å¤±è´¥æ„é€ å™¨å°† <code>grade</code> å±æ€§ä» <code>Double</code> è½¬å˜ä¸º <code>Int</code>ï¼Œåƒè¿™æ ·</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> grade <span class="token operator">=</span> <span class="token function">Int</span><span class="token punctuation">(</span>exactly<span class="token punctuation">:</span> gradeDouble<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¦‚æœ<code>gradeDouble</code>ä¸æ˜¯æ•´æ•°ï¼Œä¾‹å¦‚6.33ï¼Œå®ƒå°†å¤±è´¥ã€‚å¦‚æœå®ƒå¯ä»¥ç”¨ä¸€ä¸ªæ­£ç¡®çš„è¡¨ç¤ºIntï¼Œä¾‹å¦‚6.0ï¼Œå®ƒå°†æˆåŠŸã€‚</p> <blockquote><p>Noteï¼šè™½ç„¶<code>throwing initializers</code> å¯ä»¥ç”¨æ¥æ›¿ä»£ <code>failable initializers</code>ã€‚ä½†æ˜¯ä½¿ç”¨ <code>failable initializers</code> ä¼šæ›´å¥½ï¼Œæ›´ç¬¦åˆäººçš„æ€ç»´ã€‚</p></blockquote> <h5 id="æ–°çš„åºåˆ—å‡½æ•°-sequence-functions"><a href="#æ–°çš„åºåˆ—å‡½æ•°-sequence-functions" class="header-anchor">#</a> æ–°çš„åºåˆ—å‡½æ•°ï¼ˆSequence Functionsï¼‰</h5> <p>swift3.1æ·»åŠ äº†ä¸¤ä¸ªæ–°çš„æ ‡å‡†åº“å‡½æ•°åœ¨ <code>Sequence</code> åè®®ä¸­ï¼š<code>prefix(while:)``å’Œprefix(while:)</code><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0045-scan-takewhile-dropwhile.md" target="_blank" rel="noopener noreferrer">[SE-0045]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>æ„é€ ä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/Fibonacci_number" target="_blank" rel="noopener noreferrer">æ–æ³¢çº³å¥‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>æ— é™åºåˆ—ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> fibonacci <span class="token operator">=</span> <span class="token function">sequence</span><span class="token punctuation">(</span>state<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>state<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span><span class="token operator">?</span> <span class="token keyword">in</span>
  <span class="token keyword">defer</span> <span class="token punctuation">{</span>state <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span><span class="token number">0</span> <span class="token operator">+</span> state<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åœ¨Swift 3.0ä¸­ï¼Œæ‚¨åªéœ€æŒ‡å®š<code>è¿­ä»£æ¬¡æ•°</code>å³å¯éå†fibonacciåºåˆ—ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.0</span>
<span class="token keyword">for</span> number <span class="token keyword">in</span> fibonacci<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>  <span class="token comment">// 0 1 1 2 3 5 8 13 21 34</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>åœ¨swift 3.1ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>prefix(while:)</code>å’Œ<code>drop(while:)</code>è·å¾—ç¬¦åˆæ¡ä»¶åœ¨ä¸¤ä¸ªç»™å®šå€¼ä¹‹é—´çš„åºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå°±åƒè¿™æ ·ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.1</span>
<span class="token keyword">let</span> interval <span class="token operator">=</span> fibonacci<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token keyword">while</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span><span class="token keyword">while</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> element <span class="token keyword">in</span> interval <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token comment">// 144 233 377 610 987</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>prefix(while:)</code>è¿”å›æ»¡è¶³æŸä¸ªè°“è¯çš„æœ€é•¿å­åºåˆ—ã€‚å®ƒä»åºåˆ—çš„å¼€å¤´å¼€å§‹ï¼Œå¹¶åœåœ¨ç»™å®šé—­åŒ…è¿”å›falseçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸Šã€‚</p> <p><code>drop(while:)</code> ç›¸åï¼šå®ƒè¿”å›ä»ç»™å®šå…³é—­è¿”å›falseçš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹çš„å­åºåˆ—ï¼Œå¹¶åœ¨åºåˆ—ç»“å°¾å®Œæˆã€‚</p> <blockquote><p>Note:è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…çš„å†™æ³•ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">let</span> interval <span class="token operator">=</span> fibonacci<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">}</span><span class="token punctuation">.</span>drop<span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></blockquote> <h2 id="concrete-constrained-extensions-å§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§"><a href="#concrete-constrained-extensions-å§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§" class="header-anchor">#</a> Concrete Constrained Extensionsï¼ˆå§‘ä¸”ç¿»è¯‘ä¸ºç±»çš„çº¦æŸæ‰©å±•å§ï¼‰</h2> <p>Swift 3.1å…è®¸æ‚¨æ‰©å±•å…·æœ‰ç±»å‹çº¦æŸçš„é€šç”¨ç±»å‹ã€‚ä»¥å‰ï¼Œä½ ä¸èƒ½åƒè¿™æ ·æ‰©å±•ç±»å‹ï¼Œå› ä¸ºçº¦æŸå¿…é¡»æ˜¯ä¸€ä¸ªåè®®ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p> <p>ä¾‹å¦‚ï¼ŒRuby on Railsæä¾›äº†ä¸€ç§<code>isBlank</code>æ£€æŸ¥ç”¨æˆ·è¾“å…¥çš„éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯åœ¨Swift 3.0ä¸­ç”¨ <code>String</code> ç±»å‹çš„æ‰©å±•å®ç°è¿™ä¸ª<strong>è®¡ç®—å‹å±æ€§</strong>ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.0</span>
<span class="token keyword">extension</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> isBlank<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">trimmingCharacters</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>whitespaces<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">isEmpty</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">let</span> abc <span class="token operator">=</span> <span class="token string">&quot; &quot;</span>
<span class="token keyword">let</span> def <span class="token operator">=</span> <span class="token string">&quot;x&quot;</span>
 
abc<span class="token punctuation">.</span>isBlank <span class="token comment">// true</span>
def<span class="token punctuation">.</span>isBlank <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>å¦‚æœä½ å¸Œæœ›<code>isBlank</code>è®¡ç®—å‹å±æ€§ä¸ºä¸€ä¸ªå¯é€‰å€¼æ‰€ç”¨ï¼Œåœ¨swift 3.0ä¸­ï¼Œä½ å°†è¦è¿™æ ·åš</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.0</span>
<span class="token keyword">protocol</span> <span class="token builtin">StringProvider</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> string<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">extension</span> <span class="token builtin">String</span><span class="token punctuation">:</span> <span class="token builtin">StringProvider</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> string<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">self</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">extension</span> <span class="token builtin">Optional</span> <span class="token keyword">where</span> <span class="token builtin">Wrapped</span><span class="token punctuation">:</span> <span class="token builtin">StringProvider</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> isBlank<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>string<span class="token punctuation">.</span>isBlank <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">let</span> foo<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token constant">nil</span>
<span class="token keyword">let</span> bar<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string">&quot;  &quot;</span>
<span class="token keyword">let</span> baz<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string">&quot;x&quot;</span>
 
foo<span class="token punctuation">.</span>isBlank <span class="token comment">// true</span>
bar<span class="token punctuation">.</span>isBlank <span class="token comment">// true</span>
baz<span class="token punctuation">.</span>isBlank <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>è¿™åˆ›å»ºäº†ä¸€ä¸ªé‡‡ç”¨ <code>String</code> çš„ <code>StringProvider</code> åè®®è€Œåœ¨ä½ ä½¿ç”¨StringProvideræ‰©å±•å¯é€‰çš„ wrapped ç±»å‹æ—¶,æ·»åŠ isBlankæ–¹æ³•ã€‚</p> <p>Swift 3.1ä¸­ï¼Œç”¨æ¥æ›¿ä»£åè®®æ–¹æ³•ï¼Œæ‰©å±•å…·ä½“ç±»å‹çš„æ–¹æ³•åƒè¿™æ ·ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.1</span>
<span class="token keyword">extension</span> <span class="token builtin">Optional</span> <span class="token keyword">where</span> <span class="token builtin">Wrapped</span> <span class="token operator">==</span> <span class="token builtin">String</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> isBlank<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>isBlank <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>è¿™å°±ç”¨æ›´å°‘çš„ä»£ç å®ç°äº†å’ŒåŸå…ˆç›¸åŒçš„åŠŸèƒ½~</p> <h2 id="æ³›å‹åµŒå¥—-nested-generics"><a href="#æ³›å‹åµŒå¥—-nested-generics" class="header-anchor">#</a> æ³›å‹åµŒå¥—ï¼ˆNested Genericsï¼‰</h2> <p>Swift 3.1å…è®¸æ‚¨å°†åµŒå¥—ç±»å‹ä¸æ³›å‹æ··åˆã€‚ä½œä¸ºä¸€ä¸ªç»ƒä¹ ï¼Œè€ƒè™‘è¿™ä¸ªï¼ˆä¸æ˜¯å¤ªç–¯ç‹‚ï¼‰çš„ä¾‹å­ã€‚æ¯å½“æŸä¸ªå›¢é˜Ÿé¢†å¯¼raywenderlich.comæƒ³åœ¨åšå®¢ä¸Šå‘å¸ƒä¸€ç¯‡æ–‡ç« æ—¶ï¼Œä»–ä¼šåˆ†é…ä¸€æ‰¹ä¸“é—¨çš„å¼€å‘äººå‘˜æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä»¥æ»¡è¶³ç½‘ç«™çš„é«˜è´¨é‡æ ‡å‡†ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Team</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">enum</span> <span class="token builtin">TeamType</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> swift
    <span class="token keyword">case</span> iOS
    <span class="token keyword">case</span> macOS
  <span class="token punctuation">}</span>
 
  <span class="token keyword">class</span> <span class="token class-name">BlogPost</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token builtin">BlogPostType</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> tutorial
      <span class="token keyword">case</span> article
    <span class="token punctuation">}</span>
 
    <span class="token keyword">let</span> title<span class="token punctuation">:</span> T
    <span class="token keyword">let</span> type<span class="token punctuation">:</span> <span class="token builtin">BlogPostType</span>
    <span class="token keyword">let</span> category<span class="token punctuation">:</span> <span class="token builtin">TeamType</span>
    <span class="token keyword">let</span> publishDate<span class="token punctuation">:</span> <span class="token builtin">Date</span>
 
    <span class="token keyword">init</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> T<span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token builtin">BlogPostType</span><span class="token punctuation">,</span> category<span class="token punctuation">:</span> <span class="token builtin">TeamType</span><span class="token punctuation">,</span> publishDate<span class="token punctuation">:</span> <span class="token builtin">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">self</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title
      <span class="token keyword">self</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type
      <span class="token keyword">self</span><span class="token punctuation">.</span>category <span class="token operator">=</span> category
      <span class="token keyword">self</span><span class="token punctuation">.</span>publishDate <span class="token operator">=</span> publishDate
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 
  <span class="token keyword">let</span> type<span class="token punctuation">:</span> <span class="token builtin">TeamType</span>
  <span class="token keyword">let</span> author<span class="token punctuation">:</span> T
  <span class="token keyword">let</span> teamLead<span class="token punctuation">:</span> T
  <span class="token keyword">let</span> blogPost<span class="token punctuation">:</span> <span class="token builtin">BlogPost</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
 
  <span class="token keyword">init</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token builtin">TeamType</span><span class="token punctuation">,</span> author<span class="token punctuation">:</span> T<span class="token punctuation">,</span> teamLead<span class="token punctuation">:</span> T<span class="token punctuation">,</span> blogPost<span class="token punctuation">:</span> <span class="token builtin">BlogPost</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type
    <span class="token keyword">self</span><span class="token punctuation">.</span>author <span class="token operator">=</span> author
    <span class="token keyword">self</span><span class="token punctuation">.</span>teamLead <span class="token operator">=</span> teamLead
    <span class="token keyword">self</span><span class="token punctuation">.</span>blogPost <span class="token operator">=</span> blogPost
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>å°†<code>BlogPost</code>å†…éƒ¨ç±»åµŒå¥—åœ¨å…¶å¯¹åº”çš„<code>Team</code>å¤–éƒ¨ç±»ä¸­ï¼Œå¹¶ä½¿ä¸¤ä¸ªç±»éƒ½é€šç”¨ã€‚è¿™æ˜¯å›¢é˜Ÿå¦‚ä½•å¯»æ‰¾æˆ‘åœ¨ç½‘ç«™ä¸Šå‘å¸ƒçš„æ•™ç¨‹å’Œæ–‡ç« ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token function">Team</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>swift<span class="token punctuation">,</span> author<span class="token punctuation">:</span> <span class="token string">&quot;Cosmin PupÄƒzÄƒ&quot;</span><span class="token punctuation">,</span> teamLead<span class="token punctuation">:</span> <span class="token string">&quot;Ray Fix&quot;</span><span class="token punctuation">,</span> 
     blogPost<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token punctuation">.</span><span class="token function">BlogPost</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">&quot;Pattern Matching&quot;</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token punctuation">.</span>tutorial<span class="token punctuation">,</span> 
     category<span class="token punctuation">:</span> <span class="token punctuation">.</span>swift<span class="token punctuation">,</span> publishDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 
<span class="token function">Team</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token punctuation">.</span>swift<span class="token punctuation">,</span> author<span class="token punctuation">:</span> <span class="token string">&quot;Cosmin PupÄƒzÄƒ&quot;</span><span class="token punctuation">,</span> teamLead<span class="token punctuation">:</span> <span class="token string">&quot;Ray Fix&quot;</span><span class="token punctuation">,</span> 
     blogPost<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token punctuation">.</span><span class="token function">BlogPost</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">&quot;What's New in Swift 3.1?&quot;</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token punctuation">.</span>article<span class="token punctuation">,</span> 
     category<span class="token punctuation">:</span> <span class="token punctuation">.</span>swift<span class="token punctuation">,</span> publishDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä½†å®é™…ä¸Šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ç®€åŒ–è¯¥ä»£ç ã€‚å¦‚æœåµŒå¥—çš„å†…éƒ¨ç±»å‹ä½¿ç”¨é€šç”¨å¤–éƒ¨ç±»å‹ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤ç»§æ‰¿çˆ¶ç±»çš„ç±»å‹ã€‚å› æ­¤ï¼Œæ‚¨ä¸éœ€è¦å¦‚æ­¤å£°æ˜ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">class</span> <span class="token class-name">Team</span><span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// original code </span>
 
  <span class="token keyword">class</span> <span class="token class-name">BlogPost</span> <span class="token punctuation">{</span>
    <span class="token comment">// original code</span>
  <span class="token punctuation">}</span>  
 
  <span class="token comment">// original code </span>
  <span class="token keyword">let</span> blogPost<span class="token punctuation">:</span> <span class="token builtin">BlogPost</span>
 
  <span class="token keyword">init</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token builtin">TeamType</span><span class="token punctuation">,</span> author<span class="token punctuation">:</span> T<span class="token punctuation">,</span> teamLead<span class="token punctuation">:</span> T<span class="token punctuation">,</span> blogPost<span class="token punctuation">:</span> <span class="token builtin">BlogPost</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// original code   </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>Noteï¼šå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºSwiftä¸­çš„<strong>æ³›å‹</strong>ï¼Œè¯·é˜…è¯»æˆ‘ä»¬æœ€è¿‘æ›´æ–°çš„<a href="https://www.raywenderlich.com/154371/swift-generics-tutorial-getting-started" target="_blank" rel="noopener noreferrer">Swiftæ³›å‹å…¥é—¨çš„æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></blockquote> <h2 id="swiftç‰ˆæœ¬çš„å¯ç”¨æ€§"><a href="#swiftç‰ˆæœ¬çš„å¯ç”¨æ€§" class="header-anchor">#</a> Swiftç‰ˆæœ¬çš„å¯ç”¨æ€§</h2> <p>æ‚¨å¯ä»¥ä½¿ç”¨**#if swift(&gt;= N)** <code>é™æ€æ„é€ </code>æ¥æ£€æŸ¥ç‰¹å®šçš„Swiftç‰ˆæœ¬ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.0</span>
#<span class="token keyword">if</span> <span class="token function">swift</span><span class="token punctuation">(</span><span class="token operator">&gt;=</span><span class="token number">3.1</span><span class="token punctuation">)</span>
  <span class="token keyword">func</span> <span class="token function">intVersion</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span><span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Int</span><span class="token punctuation">(</span>exactly<span class="token punctuation">:</span> number<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
#elseif <span class="token function">swift</span><span class="token punctuation">(</span><span class="token operator">&gt;=</span><span class="token number">3.0</span><span class="token punctuation">)</span>
  <span class="token keyword">func</span> <span class="token function">intVersion</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Int</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
#endif
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ç„¶è€Œï¼Œå½“ä½¿ç”¨Swiftæ ‡å‡†åº“æ—¶ï¼Œè¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ã€‚å®ƒéœ€è¦ä¸ºæ¯ä¸ªå—æ”¯æŒçš„æ—§è¯­è¨€ç‰ˆæœ¬ç¼–è¯‘æ ‡å‡†åº“ã€‚è¿™æ˜¯å› ä¸ºå½“æ‚¨ä»¥å‘åå…¼å®¹æ¨¡å¼è¿è¡ŒSwiftç¼–è¯‘å™¨æ—¶ï¼Œä¾‹å¦‚æ‚¨è¦ä½¿ç”¨Swift 3.0è¡Œä¸ºï¼Œåˆ™éœ€è¦ä½¿ç”¨é’ˆå¯¹è¯¥ç‰¹å®šå…¼å®¹æ€§ç‰ˆæœ¬ç¼–è¯‘çš„æ ‡å‡†åº“ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨ä½¿ç”¨ç‰ˆæœ¬3.1æ¨¡å¼ç¼–è¯‘çš„ï¼Œé‚£ä¹ˆæ‚¨æ ¹æœ¬å°±æ²¡æœ‰æ­£ç¡®çš„ä»£ç </p> <p>å› æ­¤ï¼Œ@availableé™¤äº†ç°æœ‰å¹³å°ç‰ˆæœ¬ <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0141-available-by-swift-version.md" target="_blank" rel="noopener noreferrer">[SE-0141]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¹‹å¤–ï¼ŒSwift 3.1æ‰©å±•äº†è¯¥å±æ€§ä»¥æ”¯æŒæŒ‡å®šSwiftç‰ˆæœ¬å·ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.1</span>
 
@<span class="token function">available</span><span class="token punctuation">(</span>swift <span class="token number">3.1</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">intVersion</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span><span class="token operator">?</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Int</span><span class="token punctuation">(</span>exactly<span class="token punctuation">:</span> number<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
 
@<span class="token function">available</span><span class="token punctuation">(</span>swift<span class="token punctuation">,</span> introduced<span class="token punctuation">:</span> <span class="token number">3.0</span><span class="token punctuation">,</span> obsoleted<span class="token punctuation">:</span> <span class="token number">3.1</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">intVersion</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Int</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">Int</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¿™ä¸ªæ–°åŠŸèƒ½æä¾›äº†ä¸<code>intVersionSwift</code>ç‰ˆæœ¬æœ‰å…³çš„æ–¹æ³•ç›¸åŒçš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œå®ƒåªå…è®¸åƒæ ‡å‡†åº“è¿™æ ·çš„åº“è¢«ç¼–è¯‘ä¸€æ¬¡ã€‚ç¼–è¯‘å™¨ç„¶åç®€å•åœ°é€‰æ‹©å¯ç”¨äºæ‰€é€‰æ‹©çš„ç»™å®šå…¼å®¹æ€§ç‰ˆæœ¬çš„åŠŸèƒ½ã€‚</p> <blockquote><p>Noteï¼šæ³¨æ„ï¼šå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šå…³äºSwift çš„<code>å¯ç”¨æ€§å±æ€§ï¼ˆ availability attributesï¼‰</code>ï¼Œè¯·å‚é˜…æˆ‘ä»¬å…³äº<a href="https://www.raywenderlich.com/139077/availability-attributes-swift" target="_blank" rel="noopener noreferrer">Swiftä¸­å¯ç”¨æ€§å±æ€§çš„æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p></blockquote> <h2 id="é€ƒé€¸é—­åŒ…-escaping-closures"><a href="#é€ƒé€¸é—­åŒ…-escaping-closures" class="header-anchor">#</a> é€ƒé€¸é—­åŒ…ï¼ˆEscaping Closuresï¼‰</h2> <p>åœ¨Swift 3.0 <a href="https://github.com/apple/swift-evolution/blob/master/proposals/0103-make-noescape-default.md" target="_blank" rel="noopener noreferrer">[ SE-0103 ]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­å‡½æ•°ä¸­çš„é—­åŒ…çš„å‚æ•°æ˜¯é»˜è®¤æ˜¯ä¸é€ƒé€¸çš„ï¼ˆnon-escapingï¼‰ã€‚åœ¨Swift 3.1ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„å‡½æ•°<code>withoutActuallyEscaping()</code>å°†éé€ƒé€¸é—­åŒ…è½¬æ¢ä¸ºä¸´æ—¶é€ƒé€¸ã€‚</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token keyword">func</span> <span class="token function">perform</span><span class="token punctuation">(</span><span class="token number">_</span> f<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">,</span> simultaneouslyWith g<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">Void</span><span class="token punctuation">,</span>
             on queue<span class="token punctuation">:</span> <span class="token builtin">DispatchQueue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">withoutActuallyEscaping</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span> escapableF <span class="token keyword">in</span>     <span class="token comment">// 1</span>
    <span class="token function">withoutActuallyEscaping</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token punctuation">{</span> escapableG <span class="token keyword">in</span>
      queue<span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>execute<span class="token punctuation">:</span> escapableF<span class="token punctuation">)</span>           <span class="token comment">// 2</span>
      queue<span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>execute<span class="token punctuation">:</span> escapableG<span class="token punctuation">)</span>     
 
      queue<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>flags<span class="token punctuation">:</span> <span class="token punctuation">.</span>barrier<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>             <span class="token comment">// 3</span>
    <span class="token punctuation">}</span>                                            <span class="token comment">// 4</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ­¤å‡½æ•°åŒæ—¶åŠ è½½ä¸¤ä¸ªé—­åŒ…ï¼Œç„¶ååœ¨ä¸¤ä¸ªå®Œæˆä¹‹åè¿”å›ã€‚</p> <ol><li><code>f</code> ä¸ <code>g</code> è¿›å…¥å‡½æ•°åç”±éé€ƒé€¸çŠ¶æ€ï¼Œåˆ†åˆ«è½¬æ¢ä¸ºé€ƒé€¸é—­åŒ…:<code>escapableF</code>å’Œ<code>escapableG</code>ã€‚</li> <li>async(execute:) çš„è°ƒç”¨éœ€è¦é€ƒé€¸é—­åŒ…ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»è¿›è¡Œäº†è½¬æ¢ã€‚</li> <li>é€šè¿‡è¿è¡Œ<code>sync(flags: .barrier)</code>ï¼Œæ‚¨ç¡®ä¿<code>async(execute:)</code>æ–¹æ³•å®Œå…¨å®Œæˆï¼Œç¨åå°†ä¸ä¼šè°ƒç”¨é—­åŒ…ã€‚</li> <li>åœ¨èŒƒå›´å†…ä½¿ç”¨ <code>escapableF</code> and <code>escapableG</code>.</li></ol> <p>å¦‚æœä½ å­˜å‚¨ä¸´æ—¶é€ƒç¦»é—­åŒ…(å³çœŸæ­£é€ƒè„±)è¿™å°†æ˜¯ä¸€ä¸ªBugã€‚æœªæ¥ç‰ˆæœ¬çš„æ ‡å‡†åº“å¯ä»¥æ£€æµ‹è¿™ä¸ªé™·é˜±,å¦‚æœä½ è¯•å›¾è°ƒç”¨å®ƒä»¬ã€‚</p> <h2 id="swift-package-manager-æ›´æ–°"><a href="#swift-package-manager-æ›´æ–°" class="header-anchor">#</a> Swift Package Manager æ›´æ–°</h2> <p>å•Šï¼ŒæœŸå¾…å·²ä¹…çš„ <strong>Swift Package Manage</strong> çš„æ›´æ–°äº†ï¼</p> <h4 id="å¯ç¼–è¾‘è½¯ä»¶åŒ…-editable-packages"><a href="#å¯ç¼–è¾‘è½¯ä»¶åŒ…-editable-packages" class="header-anchor">#</a> å¯ç¼–è¾‘è½¯ä»¶åŒ…ï¼ˆEditable Packagesï¼‰</h4> <p>Swift 3.1å°†<code>å¯ç¼–è¾‘è½¯ä»¶åŒ…(editable packages)</code>çš„æ¦‚å¿µæ·»åŠ åˆ°Swiftè½¯ä»¶åŒ…ç®¡ç†å™¨ <a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/Usage.md#editable-packages" target="_blank" rel="noopener noreferrer">[ SE-0082 ]<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>è¯¥<code>swift package edit</code>å‘½ä»¤ä½¿ç”¨ç°æœ‰çš„<code>Packages</code>å¹¶å°†å…¶è½¬æ¢ä¸º<code>editable Packages</code>ã€‚ä½¿ç”¨<code>--end-edit</code>å‘½ä»¤å°† <code>package manager</code> è¿˜åŸå› <strong>è§„èŒƒè§£æçš„è½¯ä»¶åŒ…ï¼ˆcanonical resolved packagï¼‰</strong>ã€‚</p> <h4 id="ç‰ˆæœ¬å›ºå®š-version-pinning"><a href="#ç‰ˆæœ¬å›ºå®š-version-pinning" class="header-anchor">#</a> ç‰ˆæœ¬å›ºå®šï¼ˆVersion Pinningï¼‰</h4> <p>Swift 3.1 æ·»åŠ äº†ç‰ˆæœ¬å›ºå®šçš„æ¦‚å¿µ[ SE-0145 ]ã€‚è¯¥ <code>pin</code> å‘½ä»¤ å›ºå®šä¸€ä¸ªæˆ–æ‰€æœ‰ä¾èµ–å…³ç³»å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>$ swift package pin <span class="token operator">--</span>all      <span class="token comment">// å›ºå®šæ‰€æœ‰çš„ä¾èµ–</span>
$ swift package pin <span class="token builtin">Foo</span>        <span class="token comment">// å›ºå®š Foo åœ¨å½“å‰çš„é—­åŒ…</span>
$ swift package pin <span class="token builtin">Foo</span> <span class="token operator">--</span>version <span class="token number">1.2</span><span class="token punctuation">.</span><span class="token number">3</span>  <span class="token comment">// å›ºå®š Foo åœ¨ 1.2.3 ç‰ˆæœ¬</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä½¿ç”¨<code>unpin</code>å‘½ä»¤æ¢å¤åˆ°ä»¥å‰çš„åŒ…ç‰ˆæœ¬ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code>$ swift package unpin â€”all
$ swift package unpin <span class="token builtin">Foo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Package manager å°†æ¯ä¸ªä¾èµ–åº“çš„ç‰ˆæœ¬å›ºå®šä¿¡æ¯å­˜å‚¨åœ¨ <code>Package.pins</code> æ–‡ä»¶ä¸­ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™Package manager ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p> <h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="header-anchor">#</a> å…¶ä»–</h4> <p><code>swift package reset</code> å‘½ä»¤å°†ä¼šæŠŠ Package é‡ç½®å¹²å‡€ã€‚</p> <p><code>swift test --parallel</code> å‘½ä»¤ æ‰§è¡Œæµ‹è¯•ã€‚</p> <h2 id="å…¶ä»–æ”¹åŠ¨"><a href="#å…¶ä»–æ”¹åŠ¨" class="header-anchor">#</a> å…¶ä»–æ”¹åŠ¨</h2> <p>åœ¨ swift 3.1 ä¸­è¿˜æœ‰ä¸€äº›å°æ”¹åŠ¨</p> <h4 id="å¤šé‡è¿”å›å‡½æ•°"><a href="#å¤šé‡è¿”å›å‡½æ•°" class="header-anchor">#</a> å¤šé‡è¿”å›å‡½æ•°</h4> <p>Cå‡½æ•°è¿”å›ä¸¤æ¬¡ï¼Œä¾‹å¦‚<code>vfork</code> å’Œ <code>vfork</code>å·²ç»ä¸ç”¨äº†ã€‚ä»–ä»¬ä»¥æœ‰è¶£çš„æ–¹å¼æ”¹å˜äº†ç¨‹åºçš„æ§åˆ¶æµç¨‹ã€‚æ‰€ä»¥ Swift ç¤¾åŒº å·²ç»ç¦æ­¢äº†è¯¥è¡Œä¸ºï¼Œä»¥å…å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p> <h4 id="è‡ªåŠ¨é“¾æ¥å¤±æ•ˆ-disable-auto-linking"><a href="#è‡ªåŠ¨é“¾æ¥å¤±æ•ˆ-disable-auto-linking" class="header-anchor">#</a> è‡ªåŠ¨é“¾æ¥å¤±æ•ˆï¼ˆDisable Auto-Linkingï¼‰</h4> <p><a href="https://github.com/apple/swift-package-manager" target="_blank" rel="noopener noreferrer">Swift Package Manager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç¦ç”¨äº†åœ¨Cè¯­è¨€ <a href="http://nsomar.com/modular-framework-creating-and-using-them/" target="_blank" rel="noopener noreferrer"><strong>æ¨¡å—æ˜ å°„ï¼ˆmodule mapsï¼‰</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸­çš„<strong>è‡ªåŠ¨é“¾æ¥</strong>çš„åŠŸèƒ½ï¼š</p> <div class="language-swift line-numbers-mode"><pre class="language-swift"><code><span class="token comment">// Swift 3.0</span>
module <span class="token builtin">MyCLib</span> <span class="token punctuation">{</span>
    header â€œfoo<span class="token punctuation">.</span>h&quot;
    link â€œ<span class="token builtin">MyCLib</span>&quot;
    export <span class="token operator">*</span>
<span class="token punctuation">}</span>
 
<span class="token comment">// Swift 3.1</span>
module <span class="token builtin">MyCLib</span> <span class="token punctuation">{</span>
    header â€œfoo<span class="token punctuation">.</span>hâ€
    export <span class="token operator">*</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="header-anchor">#</a> ç»“è¯­</h2> <p>Swift 3.1æ”¹å–„äº†Swift 3.0çš„ä¸€äº›åŠŸèƒ½ï¼Œä¸ºå³å°†åˆ°æ¥çš„Swift 4.0çš„å¤§æ”¹åŠ¨åšå‡†å¤‡ã€‚è¿™äº›åŒ…æ‹¬å¯¹æ³›å‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ›´ç§‘å­¦çš„<code>String</code>ç­‰æ–¹é¢çš„ä½œå‡ºæå¤§çš„æ”¹è¿›ã€‚</p> <p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¯·è½¬åˆ° <a href="https://developer.apple.com/reference/swift?changes=latest_minor" target="_blank" rel="noopener noreferrer">Swift standard library diffs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æˆ–è€…æŸ¥çœ‹å®˜æ–¹çš„çš„<a href="https://github.com/apple/swift/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Swift CHANGELOG<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­é˜…è¯»æ‰€æœ‰æ›´æ”¹çš„ä¿¡æ¯ã€‚æˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥äº†è§£ <strong>Swift 4.0</strong> ä¸­çš„å†…å®¹ï¼</p> <h2 id="è‘—ä½œæƒå£°æ˜"><a href="#è‘—ä½œæƒå£°æ˜" class="header-anchor">#</a> è‘—ä½œæƒå£°æ˜</h2> <p>æœ¬æ–‡è¯‘è‡ª <a href="https://www.raywenderlich.com/156352/whats-new-in-swift-3-1" target="_blank" rel="noopener noreferrer">Whatâ€™s New in Swift 3.1?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>ç”±<a href="http://github.com/qiubaiying" target="_blank" rel="noopener noreferrer">@æŸè§(BY)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>è¿›è¡Œç¿»è¯‘,é¦–æ¬¡å‘å¸ƒäº <a href="http://qiubaiying.github.io" target="_blank" rel="noopener noreferrer">BY Blog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œè½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥.</p></div></div> <div class="page-edit"><div class="tags"><a href="/tags/?tag=iOS" title="æ ‡ç­¾">#iOS</a><a href="/tags/?tag=Swift" title="æ ‡ç­¾">#Swift</a><a href="/tags/?tag=Xcode" title="æ ‡ç­¾">#Xcode</a></div> <!----></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="comments-wrapper" style="display:none;"><!----></div></main></div> <div class="footer-wrapper" data-v-1ae6cc0c data-v-1ae6cc0c><!----> <span class="footer-copyright" data-v-1ae6cc0c><i class="iconfont reco-copyright" data-v-1ae6cc0c></i> <a data-v-1ae6cc0c><span data-v-1ae6cc0c>iOSä¸¶OC</span> <span class="ml5" data-v-1ae6cc0c>
          2015 - 2022
        </span></a></span> <span class="footer-view-site" data-v-1ae6cc0c><i class="iconfont reco-eye" data-v-1ae6cc0c></i> <span id="busuanzi_container_site_uv" data-v-1ae6cc0c>
        è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv" class="num" data-v-1ae6cc0c>-</span></span> <span id="busuanzi_container_site_pv" class="ml5" data-v-1ae6cc0c>
        è®¿é—®é‡ï¼š<span id="busuanzi_value_site_pv" class="num" data-v-1ae6cc0c>-</span></span></span> <!----></div> <!----> <div class="music-player__main" data-v-f848d4e8><div class="music-player__blur" data-v-f848d4e8></div> <div class="music-player__disc" style="width:80px;height:80px;top:10px;left:10px;" data-v-f848d4e8><div class="music-player__image" style="width:50px;height:50px;" data-v-f848d4e8><img width="100%" src="http://coderutil.oss-cn-beijing.aliyuncs.com/bbs-image/file_197a993e974e4ddf94910da901fd6227.png" alt="" data-v-f848d4e8></div> <div class="music-player__pointer" data-v-f848d4e8><img width="70%" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAADlCAMAAAAhmIoBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABgUExURQAAAEBAQGtra0RERFRUVEhISIKCgsrKyre3t5aWlo2NjXt7e5qammNjY3h4eLa2tnNzc56enrCwsFJSUiMjI+vr69zc3OLi4ubm5u/v79TU1MHBwfPz862traSkpPz8/JmpCd8AAAAVdFJOUwBG/mwSK/v+/v2/md+ZcN3MTKTIkFesmHkAAAekSURBVHjazZvpkqO4EoUBgxa8l0sLEhLv/5aTWrA9fW90YHNuxNWP6Zrpia9yOZlKCWiab1Z/p9X2zf7VX8aT8J7Tuo6XYScqeKeNVUpZa7Tj4/cW3k+C60R6LXu9fwm7CK/fQeWf7qf/DubsC/Kimm/MuwT3tMm+/6kUv38Hs3/4WX9w7XeW2f9mnFX8I6kMkb8x1H9a+ZF1o38XxjQvyzxP76FTbrt1R6FfZswzwQg3KWveLBy3wtrwrrNsGtmmUjHop4GbQ3fiz6BbQ/YU2xTBHH8mx1w2puBlWrLGFOMmZQjGX+Uxbo3aGh5DtiRcysJkdYKJZ36u2ypsfDrqqBURzk7ZUTLNCxFriSi+jfb8/43PnY1CPxNNZ1iI0VTJbaqvQZhVU4JWMs9My2wKLERWf5nZRGufYeOBFvG4s8ukCUb/GiOrf29/NpWor8U5+RgrTy+WJ7vSYrKmdSNtVa2P6wo8PH9mq6uf0dQbzbiw8ljnPhDc3a8lWmnkK58nl8NGzO4j2hBW23iOW0qDXpY1p6Grntrjpm3vVAWlXGYlmF2WqjcRu5oFfd5WC7q6qkV46m2ZU2V572UXy+/ih211ytdayIZRLdi59hAqVNaVLFmxrf0O4pnUClubCOFejsptDa4fTW2JOpKbNDjUBmeNE6yrv4uft25YfN1PeKQxZG2XEwWSdayY5k5bt/yU1coTkkaRQptcYF0nXbX6sHmXaf1zd3JBMhkos0F2Xcdqf7H+9sEO2D67ErXMZFJeLLp1drh9tD1f3jZUasFBShmFM+t/kB+ODmf+vj/T1mXsy3t5aJovcPbfw1ZN9OewpjmEP+bKtb+ztvlitSdn3yY4m600nn03Sv9cR/+HeZrL23ewYVGcJfFSJidalNo4nr89NhxpyNKe3Y7H23g6ncbjpR2+n+8D0SbaUzvAGaYZVBoAqUXeELTDkkyzenPn+XvYMs04f0DQxgSjrcVDzn6n4qg7QZLgi6O8RdAeOWzaXTGOLsXREeIoz2pzDuLoQdew9biwme373F/DJhONwnZEmNa6WqSQQjiY4qiDhO081bAhYA1Dhm1I+phowMKoTdWwQRw9QsM21pKHtN1GLLlTcojahuQopRTT2w5zpfW4JFgtMUnI+7LRmCRck6PKYMI2zLmBGD8gaJelJMFjKqGGLYKSkMOmT8gkaMjm19isNoNpbv0ylY0Z0yorDTO4DQmWTraQDnJXJQmYmr9PZQzE1HxbpyPI9EyFVWi4DgJLQmNKSjWkH/U600CT22DSFbYBtfFh/l+kFFKlzc+SPEWl1EFT6kpzw2wKq0CwKR1RNa9wKb1UGqzmc0oxAuElpSCBcLBAUs2D5ue+JgEjkPuigAL5mTMNlNKfKdNMi5FboWFOkn2mGScgtGYVCIa2FNoPph9lgRiU3LJADFAgBAMJJNNQx7UsN6KBBEJTQ3rX4ooR71Le3LhitpgZSbtMhYbplcf6jgpGvGNJAoh2LTRQmepKw5zXZoLBaMP6ohDooizb5twFQnOFpgcYLb12gem8uiQBM4QMptAwLeQwFdoJdJ1daRBPb2SboTKFHIr6saYUMvP2stIg+18f01NXDXoU0/piG+be7aCLbQJC+10skPYoAnGQW7z+VmCOQcTLShIcTG5ZIBC5taLQPOjJjkpF6jxEvL9lZwaJ92xKEjAn+pspArn9/wmkkRNQIIOvAgE9w0qvlDjMM/DmYgoNk9KjQqZ0RFZpA63SRllgStsEM5qLBpdSDWq8a0pBd1vIShim4ihm9zurQgsY7dbdDzO6hUqDnLD6qg+Oea9hyUOlwzx1OuSUOo6p0nMJG8fI7VhpmIecrDY3TNh0gQnMy0dzoQVEXfUnlScQDmlHrSim8V/IdFQzGiBh65ZCg5z9ylBJ0oVspb+ufJGECdujft8UIW9Zsbkcr26gjFpc/+gqTUIyGlTe5PkD4uhcRwaEo309+fHYYmq0FALk5dZfUyetX1iNpowiWlvLVdHHDaEP6uHAHeE81YqHtLZYjkMeUvFNvQLxD0jY6kkNo49zvetBODrUcx+g4oeHcC49E0ZsVod8oVXk4eXuGjB1EXD3SU1OaZbUOgPVzicArX5fxux7gHVwWnv+xrvvoT0o+F0nX7g9vvbS6th1zD1pey6zfxUdHRkLhMlfErldV+MPY3wnpSda6LroHN9B6ylgkklJjhrZsUDtbcdUedDGEUykgJHDfN949FDaEy0pZFZRph7y/R4zCG0Ci5EctfOSvg/zjz2OUthyDrzgU2DM77kOjMbMi0jSDTGmbw/FjsmttdpMiw5kWwh8IYmEHT3krLl3syeBGCGFZ53cc4Q5mRCDiKQMkm767m2Po4M1IQgluo6T2CgZfs+h9KyMD9zGTrosOud3HDr6q8412jGvI5ORdoUdNwODSzXKuuh1qq6gd40g59SMZEzNSHTJUb7nCoQbLWRIVVVM23VzlBz1lFMyzVOpkml7ru8Gnjf31MLJ3dQn9zjaX13dDFz6VnjvXc/R84rjIbi99yl9EPkr92Kf89d9s/g9PHkEE3sv3Nr8dXUCch/236cMN9JG+iyamiVisB8OqXtIdjtgXqBp+mHYTfoHQS8MbI4zRgUAAAAASUVORK5CYII=" alt="" data-v-f848d4e8></div></div> <div class="music-player__controls" style="width:170px;overflow-x:hidden;" data-v-f848d4e8><audio src="/assets/media/music.55a1a0d4.mp3" data-v-f848d4e8></audio> <div class="music__info" style="height:40px;margin-top:8px;" data-v-f848d4e8><h5 class="music__info--title" style="font-size:18px;text-indent:5px;text-align:left;" data-v-f848d4e8>
          å°é˜¿æ«-æˆ‘è¦æ‰¾åˆ°ä½ 
        </h5></div> <div class="playbtn" data-v-f848d4e8>æ’­æ”¾</div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div></div></div></div>
    <script src="/assets/js/app.66cb26ac.js" defer></script><script src="/assets/js/2.3ee17fbc.js" defer></script><script src="/assets/js/63.96e273aa.js" defer></script><script src="/assets/js/4.2b6c6ac4.js" defer></script>
  </body>
</html>
