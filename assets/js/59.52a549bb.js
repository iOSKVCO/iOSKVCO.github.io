(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{589:function(e,t,a){"use strict";a.r(t);var n=a(6),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("blockquote",[a("p",[e._v("JSON转模型是我们做iOS开发的基础技能，本文将通过"),a("a",{attrs:{href:"https://github.com/ibireme/YYModel",target:"_blank",rel:"noopener noreferrer"}},[e._v("YYModel"),a("OutboundLink")],1),e._v("这个框架安全快速的完成JSON到模型的转换，其中还会介绍到一款好用的插件"),a("a",{attrs:{href:"https://github.com/EnjoySR/ESJsonFormat-Xcode",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESJsonFormat"),a("OutboundLink")],1),e._v("。")])]),e._v(" "),a("h1",{attrs:{id:"_1、首先创建模型类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、首先创建模型类"}},[e._v("#")]),e._v(" 1、首先创建模型类")]),e._v(" "),a("p",[e._v("创建模型类我们可以通过"),a("a",{attrs:{href:"https://github.com/EnjoySR/ESJsonFormat-Xcode",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESJsonFormat"),a("OutboundLink")],1),e._v("这款插件快速完成。")]),e._v(" "),a("p",[e._v("使用方法：")]),e._v(" "),a("p",[e._v("将光标移动到代码行中 如下图的13行")]),e._v(" "),a("p",[e._v("然后点击"),a("code",[e._v("Window")]),e._v("->"),a("code",[e._v("ESJsonFormat")]),e._v("->"),a("code",[e._v("Input JSON Window")]),e._v("调出窗口")]),e._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/006y8lVagw1f95tr49ed7j30no0csdir.jpg",alt:""}})]),e._v(" "),a("p",[e._v("在窗口中输入你要解析的JSON文本，如下图：")]),e._v(" "),a("p",[a("img",{attrs:{src:"http://ww4.sinaimg.cn/large/006y8lVagw1f97s13l4b9j30jv0e8dhp.jpg",alt:""}})]),e._v(" "),a("p",[e._v("按"),a("code",[e._v("Enter")]),e._v("继续，然后神奇的一幕发生了")]),e._v(" "),a("p",[a("img",{attrs:{src:"http://ww3.sinaimg.cn/large/006y8lVagw1f97s46k95tj30k30dydj9.jpg",alt:""}})]),e._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/006y8lVagw1f97s6yp9hmj30iw0b840m.jpg",alt:""}})]),e._v(" "),a("p",[e._v("看到在.h中 所有的属性自动为你填上，而且帮你选好了类型")]),e._v(" "),a("p",[e._v(".m 也为你声明了"),a("code",[e._v("list")]),e._v("中成员的类型，不过这里需要稍作修改，因为我们需要用到YYModel进行解析，所以方法名改成"),a("code",[e._v("modelContainerPropertyGenericClass")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('+ (NSDictionary *)modelContainerPropertyGenericClass {\n    return @{@"list" : [List class]};\n}\n\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("还有问题就是属性中出现关键字"),a("code",[e._v("id")]),e._v("，我们需要将id改为"),a("code",[e._v("teacherId")])]),e._v(" "),a("p",[e._v("然后在.m的"),a("code",[e._v("implementation")]),e._v("中声明,将字典的的"),a("code",[e._v("id")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('+ (NSDictionary *)modelCustomPropertyMapper {\n    return @{@"teacherId" : @"id"};\n}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("这样，模型的创建就完成了，剩下的就是用YYModel进行解析了")]),e._v(" "),a("h1",{attrs:{id:"_2、使用yymodel进行解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用yymodel进行解析"}},[e._v("#")]),e._v(" 2、使用YYModel进行解析")]),e._v(" "),a("p",[e._v("解析很简单，就只需要一句话")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("// 将 JSON (NSData,NSString,NSDictionary) 转换为 Model:\nModel *model = [Model yy_modelWithJSON:json];\n\n// 或者\nModel *model = [[Model alloc] init];\n[model yy_modelSetWithDictionary:json];\n\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("到此，简便快速的完成了JSON到模型的转换。")]),e._v(" "),a("p",[e._v("最后，"),a("a",{attrs:{href:"http://www.jianshu.com/p/25e678fa43d3",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里附上一篇YYModel的使用"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);