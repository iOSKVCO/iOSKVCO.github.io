(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{558:function(n,t,a){"use strict";a.r(t);var s=a(6),e=Object(s.a)({},(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("blockquote",[a("p",[n._v("重写 NSArray、NSSet、NSDictionary 的输出方法，在Xcode实现中文（Unicode）字符在控制台的输出")])]),n._v(" "),a("h2",{attrs:{id:"原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[n._v("#")]),n._v(" 原理")]),n._v(" "),a("p",[n._v("Xcode 控制台中在输出 NSArray、NSSet、NSDictionary 时，其中的中文字符会变成Unicode编码 如"),a("code",[n._v('"\\U67cf\\U8367"')]),n._v(".")]),n._v(" "),a("p",[n._v("我们通过分类重写这些类的输出方法即可实现在控制台输出中文：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v(" - (NSString *)descriptionWithLocale:(id)locale indent:(NSUInteger)level\n")])])]),a("h2",{attrs:{id:"效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#效果"}},[n._v("#")]),n._v(" 效果")]),n._v(" "),a("p",[n._v("先看看效果：")]),n._v(" "),a("p",[n._v("创建一个字典并输出:")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v('NSData *strData = [@"str -> data格式的字符串" dataUsingEncoding:NSUTF8StringEncoding];\n\nNSData *dicData = [NSJSONSerialization dataWithJSONObject:@{@"key0": @"字典 -> data 的数据",}\n                                                      options:NSJSONWritingPrettyPrinted\n                                                        error:nil];\n\nNSMutableSet *set = [NSMutableSet setWithArray:@[@"set0",\n                                                 strData,\n                                                 dicData]];\nNSDictionary *dic = @{@"name"  : @"BY",\n                       @"My bolg" : @"http://qiubaiying.top",\n                       @"count" : @(11),\n                       @"strData" : strData,\n                       @"dicData" : dicData,\n                       @"set"     : set,\n                       @"Unicode" : @"😀😁🤣😂😄",\n                       @"contact" : @[@"BY Blog:http://qiubaiying.top",\n                                      @"GitHub:https://github.com/qiubaiying",\n                                      @"简书:https://http://www.jianshu.com/u/e71990ada2fd"]};\nNSLog(@"%@", dic);\n')])])]),a("p",[n._v("输出结果：")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v('2017-03-01 10:36:45.709 BYFoundationLog_Demo[1657:53604] {\n    "My bolg" = "http://qiubaiying.top";\n    Unicode = "\\Ud83d\\Ude00\\Ud83d\\Ude01\\Ud83e\\Udd23\\Ud83d\\Ude02\\Ud83d\\Ude04";\n    contact =     (\n        "BY Blog:http://qiubaiying.top",\n        "GitHub:https://github.com/qiubaiying",\n        "\\U7b80\\U4e66:https://http://www.jianshu.com/u/e71990ada2fd"\n    );\n    count = 11;\n    dicData = <7b0a2020 226b6579 3022203a 2022e5ad 97e585b8 202d3e20 64617461 20e79a84 e695b0e6 8dae220a 7d>;\n    name = BY;\n    set = "{(\\n    <73747220 2d3e2064 617461e6 a0bce5bc 8fe79a84 e5ad97e7 aca6e4b8 b2>,\\n    set0,\\n    <7b0a2020 226b6579 3022203a 2022e5ad 97e585b8 202d3e20 64617461 20e79a84 e695b0e6 8dae220a 7d>\\n)}";\n    strData = <73747220 2d3e2064 617461e6 a0bce5bc 8fe79a84 e5ad97e7 aca6e4b8 b2>;\n}\n')])])]),a("p",[n._v("将"),a("code",[n._v("BYFoundationLog.m")]),n._v("拖入项目，再次运行")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[n._v('2017-03-01 10:35:52.545 BYFoundationLog_Demo[1635:52772] \t{\n\tset = \t{(\n\t\t"str -> data格式的字符串",\n\t\t"set0",\n\t\t\t{\n\t\t\tkey0 = "字典 -> data 的数据",\n\t\t},\n\t)},\n\tUnicode = "😀😁🤣😂😄",\n\tstrData = "str -> data格式的字符串",\n\tcount = 11,\n\tdicData = \t{\n\t\tkey0 = "字典 -> data 的数据",\n\t},\n\tcontact = \t(\n\t\t"BY Blog:http://qiubaiying.top",\n\t\t"GitHub:https://github.com/qiubaiying",\n\t\t"简书:https://http://www.jianshu.com/u/e71990ada2fd",\n\t),\n\tname = "BY",\n\tMy bolg = "http://qiubaiying.top",\n}\n')])])]),a("h2",{attrs:{id:"实现方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现方法"}},[n._v("#")]),n._v(" 实现方法")]),n._v(" "),a("p",[n._v("以 "),a("code",[n._v("NSArray")]),n._v(" 为例：")]),n._v(" "),a("p",[n._v("创建一个 "),a("code",[n._v("NSArray")]),n._v(" 的分类，重写输出方法")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('@implementation NSArray (Log)\n\n- (NSString *)descriptionWithLocale:(id)locale indent:(NSUInteger)level {\n    NSMutableString *desc = [NSMutableString string];\n    \n    NSMutableString *tabString = [[NSMutableString alloc] initWithCapacity:level];\n    for (NSUInteger i = 0; i < level; ++i) {\n        [tabString appendString:@"\\t"];\n    }\n    \n    NSString *tab = @"";\n    if (level > 0) {\n        tab = tabString;\n    }\n    [desc appendString:@"\\t(\\n"];\n    \n    for (id obj in self) {\n        if ([obj isKindOfClass:[NSDictionary class]]\n            || [obj isKindOfClass:[NSArray class]]\n            || [obj isKindOfClass:[NSSet class]]) {\n            NSString *str = [((NSDictionary *)obj) descriptionWithLocale:locale indent:level + 1];\n            [desc appendFormat:@"%@\\t%@,\\n", tab, str];\n        } else if ([obj isKindOfClass:[NSString class]]) {\n            [desc appendFormat:@"%@\\t\\"%@\\",\\n", tab, obj];\n        } else if ([obj isKindOfClass:[NSData class]]) {\n            \n            NSError *error = nil;\n            NSObject *result =  [NSJSONSerialization JSONObjectWithData:obj\n                                                                options:NSJSONReadingMutableContainers\n                                                                  error:&error];\n            \n            if (error == nil && result != nil) {\n                if ([result isKindOfClass:[NSDictionary class]]\n                    || [result isKindOfClass:[NSArray class]]\n                    || [result isKindOfClass:[NSSet class]]) {\n                    NSString *str = [((NSDictionary *)result) descriptionWithLocale:locale indent:level + 1];\n                    [desc appendFormat:@"%@\\t%@,\\n", tab, str];\n                } else if ([obj isKindOfClass:[NSString class]]) {\n                    [desc appendFormat:@"%@\\t\\"%@\\",\\n", tab, result];\n                }\n            } else {\n                @try {\n                    NSString *str = [[NSString alloc] initWithData:obj encoding:NSUTF8StringEncoding];\n                    if (str != nil) {\n                        [desc appendFormat:@"%@\\t\\"%@\\",\\n", tab, str];\n                    } else {\n                        [desc appendFormat:@"%@\\t%@,\\n", tab, obj];\n                    }\n                }\n                @catch (NSException *exception) {\n                    [desc appendFormat:@"%@\\t%@,\\n", tab, obj];\n                }\n            }\n        } else {\n            [desc appendFormat:@"%@\\t%@,\\n", tab, obj];\n        }\n    }\n    \n    [desc appendFormat:@"%@)", tab];\n    \n    return desc;\n}\n\n@end\n\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br"),a("span",{staticClass:"line-number"},[n._v("51")]),a("br"),a("span",{staticClass:"line-number"},[n._v("52")]),a("br"),a("span",{staticClass:"line-number"},[n._v("53")]),a("br"),a("span",{staticClass:"line-number"},[n._v("54")]),a("br"),a("span",{staticClass:"line-number"},[n._v("55")]),a("br"),a("span",{staticClass:"line-number"},[n._v("56")]),a("br"),a("span",{staticClass:"line-number"},[n._v("57")]),a("br"),a("span",{staticClass:"line-number"},[n._v("58")]),a("br"),a("span",{staticClass:"line-number"},[n._v("59")]),a("br"),a("span",{staticClass:"line-number"},[n._v("60")]),a("br"),a("span",{staticClass:"line-number"},[n._v("61")]),a("br"),a("span",{staticClass:"line-number"},[n._v("62")]),a("br"),a("span",{staticClass:"line-number"},[n._v("63")]),a("br"),a("span",{staticClass:"line-number"},[n._v("64")]),a("br"),a("span",{staticClass:"line-number"},[n._v("65")]),a("br")])]),a("p",[n._v("NSSet、NSDictionary 与 NSArray 实现方法类似")]),n._v(" "),a("h2",{attrs:{id:"代码下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码下载"}},[n._v("#")]),n._v(" 代码下载")]),n._v(" "),a("p",[n._v("代码及Demo地址："),a("a",{attrs:{href:"https://github.com/qiubaiying/BYFoundationLog",target:"_blank",rel:"noopener noreferrer"}},[n._v("GitHub"),a("OutboundLink")],1)]),n._v(" "),a("h2",{attrs:{id:"使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用方法"}},[n._v("#")]),n._v(" 使用方法")]),n._v(" "),a("p",[n._v("直接将 "),a("code",[n._v("BYFoundationLog.m")]),n._v(" 文件拖入项目中就能使用")])])}),[],!1,null,null,null);t.default=e.exports}}]);